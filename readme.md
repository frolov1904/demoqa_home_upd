# demoqa_home_upd

## Описание проекта

Этот проект предназначен для автоматизации тестирования сайта [DemoQA](https://demoqa.com/) с использованием **Selenium WebDriver** и **Pytest**.  
Проект реализует удобную архитектуру на основе паттерна **Page Object** и покрывает автоматизированными тестами различные функции сайта DemoQA.

## Основные возможности

- Базовые классы страниц для повторного использования методов.
- Компонентная архитектура для работы с элементами (WebElement).
- Проверка наличия и текста ключевых элементов на разных страницах.
- Переход между страницами и валидация URL.
- Тесты, написанные согласно практикам Pytest.

## Структура проекта

```
demoqa_home/
├── pages/ # PageObject-модели (base_page.py, demoqa.py, elements_page.py)
├── components/ # Компоненты (components.py)
├── tests/ # Основные тесты (test_check_icon_demoqa.py, test_go_to_page_elements.py)
│ └── tests_hw/ # Домашние тесты (test_check_text.py, test_visible_hw.py)
├── conftest.py # Фикстуры Pytest для WebDriver
├── requirements.txt # Зависимости
├── .gitignore
```


## Изменения по сравнению с предыдущей версией

### **Первое обновление**
- **Расширение архитектуры и приведение к единому стилю:**
  - Добавлены файлы `pages/demoqa.py` и `pages/elements_page.py` для различных разделов сайта.
  - Переработан базовый PageObject (`base_page.py`) для работы с DemoQA.
- **Введена компонентная модель:**
  - В `components/components.py` создан класс `WebElement` — обёртка над элементами страницы, включающая методы:
    - `click()` — клик по элементу
    - `exist()` — проверка наличия элемента на странице
    - `get_text()` — получение текста элемента
  - Теперь элементы страниц (например, футер, иконка, центральный текст) представлены как объекты `WebElement`.
- **Тесты вынесены в отдельную директорию для домашних заданий:**
  - Все новые тесты для домашних заданий размещаются в папке `tests/tests_hw`.
  - Добавлены примеры тестов: проверка текста футера, текста по центру, переход по кнопкам.
- **Улучшение локаторов:**
  - Все локаторы приведены к CSS-селекторам и централизованы в конструкторах страниц.
  - При необходимости можно легко изменить локатор в одном месте.
- **Общие улучшения стабильности и повторного использования кода.**

### **Второе обновление**
- **Добавлены новые страницы и тесты для проверки видимости элементов**:
  - Создан файл `pages/accordion.py` с классом `Accordian` для работы с разделом **Accordian** на DemoQA.
  - В класс добавлены элементы:  
    - `section1_content_p`
    - `section1_heading`
    - `section2_content_p1`
    - `section2_content_p2`
    - `section3_content_p`
- **Новый тестовый файл `tests/tests_hw/test_visible_hw.py`:**
  - `test_visible_accordian(browser)` — проверка видимости содержимого первого раздела, клик по заголовку, проверка, что содержимое скрывается.
  - `test_visible_accordian_default(browser)` — проверка, что содержимое второго и третьего разделов скрыто по умолчанию.
- **Расширена структура проекта:**
  - Добавлены страницы и тесты для тренировки работы с методом `.is_displayed()` и отрицательными проверками.
- **Усилена практическая часть**
  - Покрыты кейсы взаимодействия с аккордеоном, включая проверку изменения состояния элементов после действий пользователя.
### **Третье обновление**

- **Добавлен и настроен класс страницы `ModalDialogsPage` (файл `pages/modal_dialogs.py`):**
  - Элемент `btn_modal` с локатором для получения всех кнопок модальных окон.
  - Элемент `icon` для перехода на главную страницу сайта через иконку в шапке.

- **Создан новый тестовый файл `tests/tests_hw/test_page_dialogs.py` с тестами:**
  - `test_modal_elements()` — проверка количества кнопок открытия модальных окон (актуальное число — 2).
  - `test_navigation_modal()` — комплексный тест с навигацией по странице:
    - обновление страницы,
    - переход на главную через иконку,
    - переход назад и вперёд в браузере,
    - изменение размеров окна,
    - проверка URL и заголовка страницы,
    - возврат к стандартным размерам окна.

- **Расширение класса `WebElement` (файл `components/components.py`):**
  - Добавлен метод `find_elements()` для получения списка элементов по локатору.
  - Уже существующий метод `find_element()` дополнен дополнительным функционалом, а новый метод позволяет удобно работать с группами элементов.

- **Добавлено множество новых тестов:**
  - `test_login_form` — проверка работы формы автоматизации Practice Form, заполнение полей, выбор radio и отправка данных.
  - `test_seo` — проверка корректности SEO-атрибутов страницы (title, description и т.д.).
  - `test_size` — тест на изменение размеров окна браузера и проверку адаптивности интерфейса.
  - Расширены тесты взаимодействия с элементами: клики по перекрытым элементам через JS, ввод данных в поля формы, проверки навигации между страницами.

- **Исправления и улучшения стабильности:**
  - Улучшена работа с кликами по элементам, которые могут быть перекрыты или иметь нестандартное поведение (например, radio-кнопки с кликом по связанной метке).
  - Доразумленная работа с размерами окна и навигацией браузера: добавлены методы изменения размеров окна с возвратом к стандартному.
  - Отработаны переходы назад и вперёд для проверки корректности работы истории браузера.

- **Общие улучшения:**
  - Оптимизация и унификация локаторов.
  - Добавлены ожидания элементов, что снижает нестабильность тестов.
  - Улучшена архитектура классов, что делает код более читаемым и поддерживаемым.

---

## Мини-чейнджлог последних изменений

| Версия      | Дата       | Основные изменения                                       |
|-------------|------------|---------------------------------------------------------|
| 3.0 (текущее) | 2025-08-13 | Добавлен ModalDialogsPage и тесты навигации и модалок; метод `find_elements()` в WebElement; множество новых тестов (`test_login_form`, `test_seo`, `test_size` и др.); улучшена стабильность работы тестов. |
| 2.0         | 2025-08-11 | Добавлены страницы и тесты аккордеона, работа с видимостью элементов. |
| 1.0         | 2025-08-07 | Введена компонентная модель, базовые страницы и тесты для DemoQA. |

## Как начать работу

1. Клонируйте репозиторий или создайте структуру вручную.
2. Установите зависимости командой:
    ```
    pip install -r requirements.txt
    ```
3. Убедитесь, что Chromedriver или другой драйвер Selenium находится в проекте или прописан в PATH.
4. Запустите тесты командой:
    ```
    pytest -s
    ```

## Примеры реализованных тестов

- Проверка наличия и кликабельности иконки на главной странице DemoQA.
- Переход по кнопке "Elements" и проверка правильности URL.
- Проверка текста в подвале сайта.
- Проверка центрального текста на странице "Elements".
- **2.0:** Проверка работы аккордеона (видимость/невидимость секций).
- **3.0:** 
  - Проверка работы модальных окон (`test_modal_elements`) — подсчёт количества кнопок вызова модалок.
  - Навигация между страницами, изменение размеров окна браузера и проверка URL/title (`test_navigation_modal`).
  - Проверка работы формы (`test_login_form`) — заполнение полей, выбор радиокнопки, отправка формы.
  - Проверка SEO-параметров страницы (`test_seo`).
  - Тест работы адаптивности интерфейса при изменении размеров окна (`test_size`).


## Особенности

- Используется паттерн **Page Object Model** для структурирования кода.
- Все элементы страниц и действия с ними реализованы через компоненты.
- Тесты легко поддерживать и расширять.
- Фикстуры для инициализации WebDriver находятся в `conftest.py`.

## .gitignore

Настроен для исключения временных файлов, виртуальных окружений и IDE:

```
/venv
.idea
*.pytest_cache
```

## Контакты

Если возникнут вопросы или предложения — обращайтесь к вашему наставнику или создайте Issue.
